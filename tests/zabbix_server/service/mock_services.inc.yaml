# algorithm:
#   MIN - ZBX_SERVICE_STATUS_CALC_MOST_CRITICAL_ONE (2)
#   MAX - ZBX_SERVICE_STATUS_CALC_MOST_CRITICAL_ALL (1)
#   OK  - ZBX_SERVICE_STATUS_CALC_SET_OK (0)
#
# propagation rule:
#    KEEP     - ZBX_SERVICE_STATUS_PROPAGATION_AS_IS
#    INCREASE - ZBX_SERVICE_STATUS_PROPAGATION_INCREASE
#    DECREASE - ZBX_SERVICE_STATUS_PROPAGATION_DECREASE
#    IGNORE   - ZBX_SERVICE_STATUS_PROPAGATION_IGNORE
#    SET      - ZBX_SERVICE_STATUS_PROPAGATION_FIXED
#
# status calculation rule:
#    N_GE  - ZBX_SERVICE_STATUS_RULE_TYPE_N_GE
#    NP_GE - ZBX_SERVICE_STATUS_RULE_TYPE_NP_GE
#    N_LT  - ZBX_SERVICE_STATUS_RULE_TYPE_N_L
#    NP_LT - ZBX_SERVICE_STATUS_RULE_TYPE_NP_L
#    W_GE  - ZBX_SERVICE_STATUS_RULE_TYPE_W_GE
#    WP_GE - ZBX_SERVICE_STATUS_RULE_TYPE_WP_GE
#    W_LT  - ZBX_SERVICE_STATUS_RULE_TYPE_W_L
#    WP_LT - ZBX_SERVICE_STATUS_RULE_TYPE_WP_L
#
#    limit - limit_status
#    value - limit_value
#    status - new_status
#

---
- name: A1
  status: 3
  algorithm: MIN
  propagation: {"action": SET, "value":0}
  children: [B1, B2]
- name: A2
  status: 3
  algorithm: MAX
  propagation: {"action": KEEP}
  children: [B1, B2]
- name: A3
  status: -1
  algorithm: OK
  rules:
  - {"type": N_GE, "limit": 6, "value": 1, "status": 1} 
- name: B1
  status: 3
  parents: [A3]
  events: 
  - {"id":1, "severity":0}
  - {"id":2, "severity":1}
  - {"id":3, "severity":3}
- name: B2
  status: 1
  parents: [A3]
  events:
  - {"id":2, "severity":1}
...
