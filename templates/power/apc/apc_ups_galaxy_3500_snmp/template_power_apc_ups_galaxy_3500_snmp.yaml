zabbix_export:
  version: '5.4'
  date: '2021-05-09T00:00:00Z'
  groups:
    -
      uuid: 3dcd5bbe90534f9e8eb5c2d53756af63
      name: Templates/Power
  templates:
    -
      uuid: 5d3971cd973b46e7915d7ae0750bac57
      template: 'APC UPS Galaxy 3500 SNMP'
      name: 'APC UPS Galaxy 3500 SNMP'
      description: |
        Template Power APC UPS Galaxy 3500
        
        MIBs used:
        PowerNet-MIB
        SNMPv2-MIB
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/420730-discussion-thread-for-official-zabbix-template-apc-ups
        
        Template tooling version used: 0.38
      groups:
        -
          name: Templates/Power
      items:
        -
          uuid: 70ebcb1dee674a60a1410895d60e8245
          name: 'Battery capacity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.1.0
          key: 'battery.capacity[upsHighPrecBatteryCapacity]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            MIB: PowerNet-MIB
            The remaining battery capacity expressed as
             percentage of full capacity.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 4c313ea3c6ab4fd9aff0829dc73f0d74
              expression: '{last()} < {$BATTERY.CAPACITY.MIN.WARN}'
              name: 'Battery has low capacity (below {$BATTERY.CAPACITY.MIN.WARN}%)'
              opdata: 'Current capacity: {ITEM.LASTVALUE1}'
              priority: HIGH
        -
          uuid: 2b417eadc988460a89db04efdaca4ffc
          name: 'External battery packs count'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.5.0
          key: 'battery.external_packs_count[upsAdvBatteryNumOfBattPacks]'
          delay: 1h
          history: 7d
          description: |
            MIB: PowerNet-MIB
            The number of external battery packs connected to the UPS. If
             the UPS does not use smart cells then the agent reports
             ERROR_NO_SUCH_NAME.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 98af792142464656b925a452e5ebf1cc
          name: 'Battery last replace date'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.1.3.0
          key: 'battery.last_replace_date[upsBasicBatteryLastReplaceDate]'
          delay: 1h
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            The date when the UPS system's batteries were last replaced
             in mm/dd/yy (or yyyy) format. For Smart-UPS models, this value
             is originally set at the factory. When the UPS batteries
             are replaced, this value should be reset by the administrator.
             For Symmetra PX 250/500 this OID is read-only and is configurable in the local display only.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: b7614652ff6f4e0890f366b8e0831b80
          name: 'Battery replace indicator'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.4.0
          key: 'battery.replace_indicator[upsAdvBatteryReplaceIndicator]'
          history: 7d
          description: |
            MIB: PowerNet-MIB
            Indicates whether the UPS batteries need replacement.
          valuemap:
            name: 'PowerNet-MIB::upsAdvBatteryReplaceIndicator'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 62ba8473cea949018ad698e17c47f421
              expression: '{last()}=2'
              name: 'Battery needs replacement'
              priority: HIGH
              description: 'A battery installed has an internal error condition.'
        -
          uuid: 89cca909c60745fe824d02aa0d4bc3d7
          name: 'Battery runtime remaining'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.3.0
          key: 'battery.runtime_remaining[upsAdvBatteryRunTimeRemaining]'
          history: 7d
          value_type: FLOAT
          units: s
          description: |
            MIB: PowerNet-MIB
            The UPS battery run time remaining before battery
             exhaustion.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 22a95e447ad74d43a191f368346fde59
          name: 'Battery status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.1.1.0
          key: 'battery.status[upsBasicBatteryStatus]'
          history: 7d
          description: |
            MIB: PowerNet-MIB
            The status of the UPS batteries. A batteryLow(3) value
             indicates the UPS will be unable to sustain the current
             load, and its services will be lost if power is not restored.
             The amount of run time in reserve at the time of low battery
             can be configured by the upsAdvConfigLowBatteryRunTime.
             A batteryInFaultCondition(4)value indicates that a battery
             installed has an internal error condition.
          valuemap:
            name: 'PowerNet-MIB::upsBasicBatteryStatus'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 476bdcd2ff144d79a1a1c37559c847e7
              expression: '{last()}=4'
              name: 'Battery has an internal error condition'
              priority: AVERAGE
              description: 'A battery installed has an internal error condition.'
            -
              uuid: e7fc31fc32ed42b391a4f022e1a0be65
              expression: '{last()}=3'
              name: 'Battery is Low'
              priority: AVERAGE
              description: 'The UPS will be unable to sustain the current load, and its services will be lost if power is not restored.'
        -
          uuid: 7a0a2b5e702f473fa1144eaf499367b2
          name: 'Battery temperature'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.2.0
          key: 'battery.temperature[upsHighPrecBatteryTemperature]'
          history: 7d
          value_type: FLOAT
          units: ℃
          description: |
            MIB: PowerNet-MIB
            The current internal UPS temperature in Celsius.
             Temperatures below zero read as 0.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: c4bd07879c514a4983c797d9fc0a42c2
              expression: '{min({$TIME.PERIOD})} > {$BATTERY.TEMP.MAX.WARN}'
              name: 'Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})'
              opdata: 'Current temperature: {ITEM.LASTVALUE1}'
              priority: HIGH
        -
          uuid: 756f727fe8374aeba9d1afd7bbe77f02
          name: 'Battery voltage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.4.0
          key: 'battery.voltage[upsHighPrecBatteryActualVoltage]'
          history: 7d
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The actual battery bus voltage in Volts.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 9069a1c0d9304e7fa5f2df133dbb46cd
          name: 'Input fail cause'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.2.5.0
          key: 'input.fail[upsAdvInputLineFailCause]'
          history: 7d
          description: |
            MIB: PowerNet-MIB
            The reason for the occurrence of the last transfer to UPS
            battery power.  The variable is set to:
            - noTransfer(1) -- if there is no transfer yet.
            - highLineVoltage(2) -- if the transfer to battery is caused
            by an over voltage greater than the high transfer voltage.
            - brownout(3) -- if the duration of the outage is greater than
            five seconds and the line voltage is between 40% of the
            rated output voltage and the low transfer voltage.
            - blackout(4) -- if the duration of the outage is greater than five
            seconds and the line voltage is between 40% of the rated
            output voltage and ground.
            - smallMomentarySag(5) -- if the duration of the outage is less
            than five seconds and the line voltage is between 40% of the
            rated output voltage and the low transfer voltage.
            - deepMomentarySag(6) -- if the duration of the outage is less
            than five seconds and the line voltage is between 40% of the
            rated output voltage and ground.  The variable is set to
            - smallMomentarySpike(7) -- if the line failure is caused by a
            rate of change of input voltage less than ten volts per cycle.
            - largeMomentarySpike(8) -- if the line failure is caused by
            a rate of change of input voltage greater than ten volts per cycle.
            - selfTest(9) -- if the UPS was commanded to do a self test.
            - rateOfVoltageChange(10) -- if the failure is due to the rate of change of
            the line voltage.
          valuemap:
            name: 'PowerNet-MIB::upsAdvInputLineFailCause'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 3a64740655ca455ab0280592b5f0055f
          name: 'Input frequency'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.3.4.0
          key: 'input.frequency[upsHighPrecInputFrequency]'
          history: 7d
          value_type: FLOAT
          units: Hz
          description: |
            MIB: PowerNet-MIB
            The current input frequency to the UPS system in Hz.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 3c6805bba5d04450863e92e1b02e1a28
              expression: '{min({$TIME.PERIOD})} > 0 and ({min({$TIME.PERIOD})} > {$UPS.INPUT_FREQ.MAX.WARN} or {max({$TIME.PERIOD})} < {$UPS.INPUT_FREQ.MIN.WARN})'
              name: 'Unacceptable input frequency (out of range {$UPS.INPUT_FREQ.MIN.WARN}-{$UPS.INPUT_FREQ.MAX.WARN}Hz for {$TIME.PERIOD})'
              opdata: 'Current frequency: {ITEM.LASTVALUE1}'
              priority: HIGH
        -
          uuid: 89bb663e356c4420bcbe2a9470ae3195
          name: 'Input voltage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.3.1.0
          key: 'input.voltage[upsHighPrecInputLineVoltage]'
          history: 7d
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The current utility line voltage in VAC.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 0040b638245f431c8b688eec558f145f
              expression: '{min({$TIME.PERIOD})} > 0 and ({min({$TIME.PERIOD})} > {$UPS.INPUT_VOLT.MAX.WARN} or {max({$TIME.PERIOD})} < {$UPS.INPUT_VOLT.MIN.WARN})'
              name: 'Unacceptable input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
              opdata: 'Current voltage: {ITEM.LASTVALUE1}'
              priority: HIGH
        -
          uuid: a6737781029b422ca7a8bbfa0ed80b56
          name: 'Output current'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.3.4.0
          key: 'output.current[upsHighPrecOutputCurrent]'
          history: 7d
          value_type: FLOAT
          units: A
          description: |
            MIB: PowerNet-MIB
            The current in amperes drawn by the load on the UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 5774ead79e8b4d63a4a31bc091d1c52a
          name: 'Output load'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.3.3.0
          key: 'output.load[upsHighPrecOutputLoad]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: |
            MIB: PowerNet-MIB
            The current UPS load expressed as percentage
            of rated capacity.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: b48512b2e45647cca8d63a7bbc1a81b4
              expression: '{min({$TIME.PERIOD})} > {$UPS.OUTPUT.MAX.WARN}'
              name: 'Output load is high (over {$UPS.OUTPUT.MAX.WARN}% for {$TIME.PERIOD})'
              opdata: 'Current load: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'A battery installed has an internal error condition.'
        -
          uuid: 8a6c9b134ebc4fd19876cf5d50dfc17b
          name: 'Output status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.1.1.0
          key: 'output.status[upsBasicOutputStatus]'
          history: 7d
          description: |
            MIB: PowerNet-MIB
            The current state of the UPS. If the UPS is unable to
             determine the state of the UPS this variable is set
             to unknown(1).
            During self-test most UPSes report onBattery(3) but
             some that support it will report onBatteryTest(15).
             To determine self-test status across all UPSes, refer
             to the upsBasicStateOutputState OID.
          valuemap:
            name: 'PowerNet-MIB::upsBasicOutputStatus'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 3658f4b6b673435da6767eea8f670a18
              expression: '{last()}=16'
              name: 'UPS is Emergency Static Bypass'
              priority: AVERAGE
            -
              uuid: c440de9d198b4e5b9e8cf56e60b2e0d6
              expression: '{last()}=10'
              name: 'UPS is Hardware Failure Bypass'
              priority: AVERAGE
            -
              uuid: a05b8d5d3a004de88619655071222cb8
              expression: '{last()}=7'
              name: 'UPS is Off'
              priority: AVERAGE
            -
              uuid: 2ddc293a108148d78190cbb4c812f420
              expression: '{last()}=3'
              name: 'UPS is on battery'
              priority: AVERAGE
            -
              uuid: abd18ad5e0d94434a936dcab068be457
              expression: '{last()}=4'
              name: 'UPS is on Smart Boost'
              priority: AVERAGE
            -
              uuid: 7faf60bd39fe4428bf8ebf926216a545
              expression: '{last()}=12'
              name: 'UPS is On Smart Trim'
              priority: AVERAGE
            -
              uuid: 2b37885a660a46db99d0eef0dd4d435e
              expression: '{last()}=8'
              name: 'UPS is Rebooting'
              priority: AVERAGE
            -
              uuid: ae0ec9c1767143f1af39d5693168eaa7
              expression: '{last()}=11'
              name: 'UPS is Sleeping Until Power Return'
              priority: AVERAGE
            -
              uuid: 24d29a8f112b4585a0e476e1cad4c598
              expression: '{last()}=6'
              name: 'UPS is Software Bypass'
              priority: AVERAGE
            -
              uuid: 01f53732edf2430fb6389342bcf35ada
              expression: '{last()}=9'
              name: 'UPS is Switched Bypass'
              priority: AVERAGE
            -
              uuid: e5703b768a6a4e3a95692f4314e1192d
              expression: '{last()}=5'
              name: 'UPS is Timed Sleeping'
              priority: AVERAGE
        -
          uuid: 4ec893da7b8540548d60a91ee7e2df83
          name: 'Output voltage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.3.1.0
          key: 'output.voltage[upsHighPrecOutputVoltage]'
          history: 7d
          value_type: FLOAT
          units: V
          description: |
            MIB: PowerNet-MIB
            The output voltage of the UPS system in VAC.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
        -
          uuid: 7d20aa252c5143c98de837dbd2f0cd53
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          history: 2w
          trends: '0'
          value_type: LOG
          description: 'Item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            -
              tag: General
        -
          uuid: aa5e85ef78504fc080b97342baf6cb35
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'system.contact[sysContact.0]'
          delay: 1h
          history: 2w
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed
            node, together with information on how to contact this person.  If no contact
            information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            -
              tag: General
        -
          uuid: f1df592a2b114677a1beabec33ce01f9
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'system.descr[sysDescr.0]'
          delay: 1h
          history: 2w
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            -
              tag: General
        -
          uuid: b109475e72e74e76846aa478e9937101
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'system.location[sysLocation.0]'
          delay: 15m
          history: 2w
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The physical location of this node (e.g., `telephone closet,
            3rd floor').  If the location is unknown, the value is the zero-length string.
          inventory_link: LOCATION
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: General
        -
          uuid: 93b6e128e95a4a96bde38ef15d74d510
          name: Model
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.1.1.0
          key: 'system.model[upsBasicIdentModel]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            The UPS model name (e.g. 'APC Smart-UPS 600').
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: General
        -
          uuid: d6f2c9770c28487d9fa6af2b63917958
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: 'system.name[sysName.0]'
          delay: 15m
          history: 2w
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By
            convention, this is the node's fully-qualified domain name.  If the name is unknown,
            the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: General
          triggers:
            -
              uuid: b6d28b455c2b4b3f8167904b9dd28f36
              expression: '{diff()}=1 and {strlen()}>0'
              name: 'System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'System name has changed. Ack to close.'
              manual_close: 'YES'
        -
          uuid: 5497f3649b9348dca290c55e94f48597
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          history: 2w
          trends: '0'
          value_type: CHAR
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management
            subsystem contained in the entity.  This value is allocated within the SMI enterprises
            subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what
            kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was
            assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1
            to its `Fred Router'.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: General
        -
          uuid: ef25b1e818534420920ff6260fa2932e
          name: 'Serial number'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.2.3.0
          key: 'system.sn[upsAdvIdentSerialNumber]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          description: |
            MIB: PowerNet-MIB
            An 8-character string identifying the serial number of
             the UPS internal microprocessor.  This number is set at
             the factory.  NOTE: This number does NOT correspond to
             the serial number on the rear of the UPS.
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: General
        -
          uuid: fc207a1df4324fcf99ba1da262527fe3
          name: Uptime
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'system.uptime[sysUpTime.0]'
          delay: 30s
          history: 2w
          trends: 0d
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            The time (in hundredths of a second) since the network management
            portion of the system was last re-initialized.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 379a351049a34821a7178fa863cbf76f
              expression: '{last()}<10m'
              name: '{HOST.NAME} has been restarted (uptime < 10m)'
              priority: WARNING
              description: 'Uptime is less than 10 minutes'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'No SNMP data collection'
                  expression: '{APC UPS Galaxy 3500 SNMP:zabbix[host,snmp,available].max({$SNMP.TIMEOUT})}=0'
        -
          uuid: efad5c028c0d4c11b57a19dc04830ea7
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          history: 7d
          valuemap:
            name: zabbix.host.available
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Status
          triggers:
            -
              uuid: 0fab7ca30adc4baa92e43934c870c5cb
              expression: '{max({$SNMP.TIMEOUT})}=0'
              name: 'No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
      discovery_rules:
        -
          uuid: 54a867c14c814e4ab4803c5a59082e44
          name: 'External bad battery packs discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_PACKS},1.3.6.1.4.1.318.1.1.1.2.2.6]'
          key: battery.packs.bad.discovery
          delay: 1h
          description: 'Discovery of the number of external defective battery packs.'
          item_prototypes:
            -
              uuid: 2a60e35fabb44c78bd827e22293166d9
              name: '{#SNMPINDEX}: External battery packs bad'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.6.0
              key: 'battery.external_packs_bad[upsAdvBatteryNumOfBadBattPacks.{#SNMPINDEX}]'
              delay: 15m
              history: 7d
              description: |
                MIB: PowerNet-MIB
                The number of external battery packs connected to the UPS that
                are defective. If the UPS does not use smart cells then the
                agent reports ERROR_NO_SUCH_NAME.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
        -
          uuid: 0c8fc55bbe984d919c3b87a096d900d5
          name: 'External battery packs discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#CARTRIDGE_STATUS},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7,{#BATTERY_PACK},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.1,{#CARTRIDGE_INDEX},1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.2]'
          key: battery.packs.discovery
          delay: 1h
          filter:
            evaltype: AND
            conditions:
              -
                macro: '{#CARTRIDGE_STATUS}'
                value: ^$
                operator: NOT_MATCHES_REGEX
                formulaid: A
          item_prototypes:
            -
              uuid: a7023eed55484d1d9f0754ccb1ec9f87
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery estimated replace date'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.8.{#SNMPINDEX}'
              key: 'battery.estimated_replace_date[upsHighPrecBatteryPackCartridgeReplaceDate.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              delay: 1h
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery cartridge estimated battery replace date.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: 41cd82bb312344b7bdb9c7c5aac2eb21
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery pack cartridge health'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.7.{#SNMPINDEX}'
              key: 'battery.pack.cartridge_health[upsHighPrecBatteryPackCartridgeHealth.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery cartridge health.
                  bit 0 Battery lifetime okay
                  bit 1 Battery lifetime near end, order replacement cartridge
                  bit 2 Battery lifetime exceeded, replace battery
                  bit 3 Battery lifetime near end acknowledged, order replacement cartridge
                  bit 4 Battery lifetime exceeded acknowledged, replace battery
                  bit 5 Battery measured lifetime near end, order replacement cartridge
                  bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: c684bd0b61de463585b9f3c7dc1fa416
                  expression: '{regexp("^(0)[0|1]{15}$")}=1'
                  name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery lifetime is not okay'
                  opdata: 'Current bit set: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: |
                    The battery cartridge health.
                      bit 0 Battery lifetime okay
                      bit 1 Battery lifetime near end, order replacement cartridge
                      bit 2 Battery lifetime exceeded, replace battery
                      bit 3 Battery lifetime near end acknowledged, order replacement cartridge
                      bit 4 Battery lifetime exceeded acknowledged, replace battery
                      bit 5 Battery measured lifetime near end, order replacement cartridge
                      bit 6 Battery measured lifetime near end acknowledged, order replacement cartridge
            -
              uuid: 241efd4ef6204c58adc04e4e04660845
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.10.{#SNMPINDEX}'
              key: 'battery.pack.status[upsHighPrecBatteryPackCartridgeStatus.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery cartridge status.
                bit 0 Disconnected
                bit 1 Overvoltage
                bit 2 NeedsReplacement
                bit 3 OvertemperatureCritical
                bit 4 Charger
                bit 5 TemperatureSensor
                bit 6 BusSoftStart
                bit 7 OvertemperatureWarning
                bit 8 GeneralError
                bit 9 Communication
                bit 10 DisconnectedFrame
                bit 11 FirmwareMismatch
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: 6ebcd53ec01d46ef8b1d60ed35000a31
                  expression: '{regexp("^(0{16})$")}=0'
                  name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery status is not okay'
                  opdata: 'Current bit set: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: |
                    The battery cartridge status:
                    bit 0 Disconnected
                    bit 1 Overvoltage
                    bit 2 NeedsReplacement
                    bit 3 OvertemperatureCritical
                    bit 4 Charger
                    bit 5 TemperatureSensor
                    bit 6 BusSoftStart
                    bit 7 OvertemperatureWarning
                    bit 8 GeneralError
                    bit 9 Communication
                    bit 10 DisconnectedFrame
                    bit 11 FirmwareMismatch
            -
              uuid: a55dd3033a2645aab5592f356043c342
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.5.{#SNMPINDEX}'
              key: 'battery.temperature[upsHighPrecBatteryPackTemperature.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              history: 7d
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The battery pack temperature in Celsius.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: 203ab933e1d549bda0485e82219301d6
                  expression: '{min({$TIME.PERIOD})} > {$BATTERY.TEMP.MAX.WARN}'
                  name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Battery has high temperature (over {$BATTERY.TEMP.MAX.WARN}℃ for {$TIME.PERIOD})'
                  opdata: 'Current temperature: {ITEM.LASTVALUE1}'
                  priority: HIGH
            -
              uuid: 8ea7d066a5ae4141b4cd0af13d96c40c
              name: '{#BATTERY_PACK}.{#CARTRIDGE_INDEX}: Serial number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.2.3.10.2.1.4.{#SNMPINDEX}'
              key: 'system.sn[upsHighPrecBatteryPackSerialNumber.{#BATTERY_PACK}.{#CARTRIDGE_INDEX}]'
              delay: 15m
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                MIB: PowerNet-MIB
                The battery pack serial number.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: General
        -
          uuid: ffb60da941114174932b219e14892be9
          name: 'External sensor port 1 discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_SENSOR1_NAME},1.3.6.1.4.1.318.1.1.25.1.2.1.3]'
          key: external.sensor1.discovery
          delay: 1h
          description: uioSensorStatusTable
          item_prototypes:
            -
              uuid: f2bcca2221e94e828755a90f98c98495
              name: '{#EXTERNAL_SENSOR1_NAME}: Humidity sensor'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.1.7.1.1
              key: 'external.sensor.humidity[uioSensorStatusHumidity.1.{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The sensor's current humidity reading - a relative humidity
                 percentage. -1 indicates an invalid reading due to either a
                 sensor that doesn't read humidity or lost communications.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: 1a41c120082948bdb6865413bdc09917
              name: '{#EXTERNAL_SENSOR1_NAME}: Sensor alarm status'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.1.9.1.1
              key: 'external.sensor.status[uioSensorStatusAlarmStatus.1.{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: PowerNet-MIB
                The alarm status of the sensor. Possible values:
                uioNormal                 (1),
                uioWarning                (2),
                uioCritical               (3),
                sensorStatusNotApplicable (4)
              valuemap:
                name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: 8638f92cd67342c693b2c1fae91a28c9
                  expression: '{last()}=3'
                  name: '{#EXTERNAL_SENSOR1_NAME}: Sensor has status Critical'
                  priority: HIGH
                  description: 'The external sensor has returned a value greater than the critical threshold.'
                -
                  uuid: 5535dda95b3a4291976615d6fd3c3b8b
                  expression: '{last()}=4'
                  name: '{#EXTERNAL_SENSOR1_NAME}: Sensor has status Not Applicable'
                  priority: INFO
                  description: 'The external sensor does not work or is not connected.'
                -
                  uuid: b7fb162e9afa4e08a8b29bac3c23648b
                  expression: '{last()}=2'
                  name: '{#EXTERNAL_SENSOR1_NAME}: Sensor has status Warning'
                  priority: AVERAGE
                  description: 'The external sensor has returned a value greater than the warning threshold.'
            -
              uuid: a191d2ff066e4f4ba04aede67cd6876d
              name: '{#EXTERNAL_SENSOR1_NAME}: Temperature sensor'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.1.6.1.1
              key: 'external.sensor.temperature[uioSensorStatusTemperatureDegC.1.{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The sensor's current temperature reading in Celsius.
                 -1 indicates an invalid reading due to lost communications.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
          overrides:
            -
              name: Temp
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#EXTERNAL_SENSOR1_NAME}'
                    value: Temp
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: LIKE
                  value: Humidity
                  status: ENABLED
                  discover: NO_DISCOVER
        -
          uuid: 463ed9f01f3a4cf6ba91f2707baded15
          name: 'External sensor port 2 discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#EXTERNAL_SENSOR2_NAME},1.3.6.1.4.1.318.1.1.25.1.2.2.3]'
          key: external.sensor2.discovery
          delay: 1h
          description: uioSensorStatusTable
          item_prototypes:
            -
              uuid: e2200965a13541b1a100e4880d8363ff
              name: '{#EXTERNAL_SENSOR2_NAME}: Humidity sensor'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.2.7.1.1
              key: 'external.sensor.humidity[uioSensorStatusHumidity.2.{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The sensor's current humidity reading - a relative humidity
                 percentage. -1 indicates an invalid reading due to either a
                 sensor that doesn't read humidity or lost communications.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: 492835d959d644d7b95fc480cba5d3dc
              name: '{#EXTERNAL_SENSOR2_NAME}: Sensor alarm status'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.2.9.1.1
              key: 'external.sensor.status[uioSensorStatusAlarmStatus.2.{#SNMPINDEX}]'
              history: 7d
              description: |
                MIB: PowerNet-MIB
                The alarm status of the sensor. Possible values:
                uioNormal                 (1),
                uioWarning                (2),
                uioCritical               (3),
                sensorStatusNotApplicable (4)
              valuemap:
                name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: 339f2b969675411b861fd3ad583f5920
                  expression: '{last()}=3'
                  name: '{#EXTERNAL_SENSOR2_NAME}: Sensor has status Critical'
                  priority: HIGH
                  description: 'The external sensor has returned a value greater than the critical threshold.'
                -
                  uuid: 37180df5bd0b494ebb96b2afcce1b030
                  expression: '{last()}=4'
                  name: '{#EXTERNAL_SENSOR2_NAME}: Sensor has status Not Applicable'
                  priority: INFO
                  description: 'The external sensor does not work or is not connected.'
                -
                  uuid: c04cb21145ca4e8ea1925abed7285d36
                  expression: '{last()}=2'
                  name: '{#EXTERNAL_SENSOR2_NAME}: Sensor has status Warning'
                  priority: AVERAGE
                  description: 'The external sensor has returned a value greater than the warning threshold.'
            -
              uuid: 2cf2d697c95845ba8ec61af2ec698f4c
              name: '{#EXTERNAL_SENSOR2_NAME}: Temperature sensor'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.318.1.1.25.1.2.2.6.1.1
              key: 'external.sensor.temperature[uioSensorStatusTemperatureDegC.2.{#SNMPINDEX}]'
              history: 7d
              value_type: FLOAT
              units: ℃
              description: |
                MIB: PowerNet-MIB
                The sensor's current temperature reading in Celsius.
                 -1 indicates an invalid reading due to lost communications.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
          overrides:
            -
              name: Temp
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#EXTERNAL_SENSOR2_NAME}'
                    value: Temp
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: LIKE
                  value: Humidity
                  status: ENABLED
                  discover: NO_DISCOVER
        -
          uuid: f16f2ab100614ae6bccf66e5a840c7db
          name: 'Input phases discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.2.3.1.2.1.1]'
          key: input.phases.discovery
          delay: 1h
          description: 'The input phase identifier. OID upsPhaseInputPhaseIndex.1.1'
          item_prototypes:
            -
              uuid: 7c0490500bed4258a8663777cd62e378
              name: '{#PHASEINDEX}: Phase input current'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.{#PHASEINDEX}'
              key: 'phase.input.current[upsPhaseInputCurrent.1.1.{#PHASEINDEX}]'
              history: 7d
              value_type: FLOAT
              units: A
              description: |
                MIB: PowerNet-MIB
                The input current in 0.1 amperes, or -0.1 if it's
                 unsupported by this UPS.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: 7356945fc0e94026a2ca04d297fdf953
              name: '{#PHASEINDEX}: Phase input voltage'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.{#PHASEINDEX}'
              key: 'phase.input.voltage[upsPhaseInputVoltage.1.1.{#PHASEINDEX}]'
              history: 7d
              value_type: FLOAT
              units: V
              description: |
                MIB: PowerNet-MIB
                The input voltage in VAC, or -1 if it's unsupported
                 by this UPS.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: 779342d65c7f472293d24bfd8f97bab8
                  expression: '{min({$TIME.PERIOD})} > {$UPS.INPUT_VOLT.MAX.WARN} or {max({$TIME.PERIOD})} < {$UPS.INPUT_VOLT.MIN.WARN}'
                  name: '{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} input voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
                  opdata: 'Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}'
                  priority: HIGH
        -
          uuid: 518ca26562f04d7b8e5af9d26317d138
          name: 'Output phases discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#PHASEINDEX},1.3.6.1.4.1.318.1.1.1.9.3.3.1.2.1.1]'
          key: output.phases.discovery
          delay: 1h
          description: 'The output phase identifier. OID upsPhaseOutputPhaseIndex.1.1'
          item_prototypes:
            -
              uuid: c3888f41e7f246b1a30d21325f814695
              name: '{#PHASEINDEX}: Phase output current'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.{#PHASEINDEX}'
              key: 'phase.output.current[upsPhaseOutputCurrent.1.1.{#PHASEINDEX}]'
              history: 7d
              value_type: FLOAT
              units: A
              description: |
                MIB: PowerNet-MIB
                The output current in 0.1 amperes drawn
                 by the load on the UPS, or -1 if it's unsupported
                 by this UPS.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: 3eb001cece8340d59cd0e7f59812f149
              name: '{#PHASEINDEX}: Phase output load, %'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.9.3.3.1.10.1.1.{#PHASEINDEX}'
              key: 'phase.output.load.percent[upsPhaseOutputPercentLoad.1.1.{#PHASEINDEX}]'
              history: 7d
              value_type: FLOAT
              units: '%'
              description: |
                MIB: PowerNet-MIB
                The percentage of the UPS load capacity in VA at
                 redundancy @ (n + x) presently being used on this
                 output phase, or -1 if it's unsupported by this UPS.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
            -
              uuid: f09e23dcb5b24170b356556a36bb39cc
              name: '{#PHASEINDEX}: Phase output voltage'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.{#PHASEINDEX}'
              key: 'phase.output.voltage[upsPhaseOutputVoltage.1.1.{#PHASEINDEX}]'
              history: 7d
              value_type: FLOAT
              units: V
              description: |
                MIB: PowerNet-MIB
                The output voltage in VAC, or -1 if it's unsupported
                 by this UPS.
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              tags:
                -
                  tag: Status
              trigger_prototypes:
                -
                  uuid: bb69d90e95bb4fc0a7a8b2adda25fa95
                  expression: '{min({$TIME.PERIOD})} > {$UPS.INPUT_VOLT.MAX.WARN} or {max({$TIME.PERIOD})} < {$UPS.INPUT_VOLT.MIN.WARN}'
                  name: '{#PHASEINDEX}: Unacceptable phase {#PHASEINDEX} output voltage (out of range {$UPS.INPUT_VOLT.MIN.WARN}-{$UPS.INPUT_VOLT.MAX.WARN}V for {$TIME.PERIOD})'
                  opdata: 'Current phase {#PHASEINDEX} voltage: {ITEM.LASTVALUE1}'
                  priority: HIGH
      macros:
        -
          macro: '{$BATTERY.CAPACITY.MIN.WARN}'
          value: '50'
          description: 'Minimum battery capacity percentage for trigger expression.'
        -
          macro: '{$BATTERY.TEMP.MAX.WARN}'
          value: '55'
          description: 'Maximum battery temperature for trigger expression.'
        -
          macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'The time interval for SNMP agent availability trigger expression.'
        -
          macro: '{$TIME.PERIOD}'
          value: 15m
          description: 'Time period for trigger expression.'
        -
          macro: '{$UPS.INPUT_FREQ.MAX.WARN}'
          value: '50.3'
          description: 'Maximum input frequency for trigger expression.'
        -
          macro: '{$UPS.INPUT_FREQ.MIN.WARN}'
          value: '49.7'
          description: 'Minimum input frequency for trigger expression.'
        -
          macro: '{$UPS.INPUT_VOLT.MAX.WARN}'
          value: '243'
          description: 'Maximum input voltage for trigger expression.'
        -
          macro: '{$UPS.INPUT_VOLT.MIN.WARN}'
          value: '197'
          description: 'Minimum input voltage for trigger expression.'
        -
          macro: '{$UPS.OUTPUT.MAX.WARN}'
          value: '80'
          description: 'Maximum output load in % for trigger expression.'
      valuemaps:
        -
          uuid: 30a78904cbc94fc58609dc1a11aa48ef
          name: 'PowerNet-MIB::uioSensorStatusAlarmStatus'
          mappings:
            -
              value: '1'
              newvalue: Normal
            -
              value: '2'
              newvalue: Warning
            -
              value: '3'
              newvalue: Critical
            -
              value: '4'
              newvalue: 'Not applicable'
        -
          uuid: ace379c23ae247f3b92ccffb9eef920c
          name: 'PowerNet-MIB::upsAdvBatteryReplaceIndicator'
          mappings:
            -
              value: '1'
              newvalue: 'no Battery Needs Replacing'
            -
              value: '2'
              newvalue: 'battery Needs Replacing'
        -
          uuid: 19686fc030ee4c6bb69aacd3b9c735ca
          name: 'PowerNet-MIB::upsAdvInputLineFailCause'
          mappings:
            -
              value: '1'
              newvalue: 'no Transfer'
            -
              value: '2'
              newvalue: 'High Line Voltage'
            -
              value: '3'
              newvalue: Brownout
            -
              value: '4'
              newvalue: Blackout
            -
              value: '5'
              newvalue: 'Small Momentary Sag'
            -
              value: '6'
              newvalue: 'Deep Momentary Sag'
            -
              value: '7'
              newvalue: 'Small Momentary Spike'
            -
              value: '8'
              newvalue: 'Large Momentary Spike'
            -
              value: '9'
              newvalue: 'Self Test'
            -
              value: '10'
              newvalue: 'Rate of Voltage Change'
        -
          uuid: 80593b554d0a431aa89a0c4960f8565c
          name: 'PowerNet-MIB::upsBasicBatteryStatus'
          mappings:
            -
              value: '1'
              newvalue: Unknown
            -
              value: '2'
              newvalue: Normal
            -
              value: '3'
              newvalue: Low
            -
              value: '4'
              newvalue: 'In Fault Condition'
        -
          uuid: f41b7d5469e64557ab0cdb81526aeac0
          name: 'PowerNet-MIB::upsBasicOutputStatus'
          mappings:
            -
              value: '1'
              newvalue: Unknown
            -
              value: '2'
              newvalue: Online
            -
              value: '3'
              newvalue: 'On Battery'
            -
              value: '4'
              newvalue: 'On Smart Boost'
            -
              value: '5'
              newvalue: 'Timed Sleeping'
            -
              value: '6'
              newvalue: 'Software Bypass'
            -
              value: '7'
              newvalue: 'Off'
            -
              value: '8'
              newvalue: Rebooting
            -
              value: '9'
              newvalue: 'Switched Bypass'
            -
              value: '10'
              newvalue: 'Hardware Failure Bypass'
            -
              value: '11'
              newvalue: 'Sleeping Until Power Return'
            -
              value: '12'
              newvalue: 'On Smart Trim'
            -
              value: '13'
              newvalue: 'Eco Mode'
            -
              value: '14'
              newvalue: 'Hot Standby'
            -
              value: '15'
              newvalue: 'On Battery Test'
            -
              value: '16'
              newvalue: 'Emergency Static Bypass'
            -
              value: '17'
              newvalue: 'Static Bypass Standby'
            -
              value: '18'
              newvalue: 'Power Saving Mode'
            -
              value: '19'
              newvalue: 'Spot Mode'
            -
              value: '20'
              newvalue: E-Conversion
            -
              value: '21'
              newvalue: 'Charger Spotmode'
            -
              value: '22'
              newvalue: 'Inverter Spotmode'
            -
              value: '23'
              newvalue: 'Active Load'
            -
              value: '24'
              newvalue: 'Battery Discharge Spotmode'
            -
              value: '25'
              newvalue: 'Inverter Standby'
            -
              value: '26'
              newvalue: 'Charger Only'
        -
          uuid: edd7578bf71146dd88770a39eec537e0
          name: zabbix.host.available
          mappings:
            -
              value: '0'
              newvalue: 'not available'
            -
              value: '1'
              newvalue: available
            -
              value: '2'
              newvalue: unknown
  graphs:
    -
      uuid: c4f0ae3090394d1d8918227f1a002702
      name: 'Capacity of the UPS batteries'
      type: PIE
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'APC UPS Galaxy 3500 SNMP'
            key: 'battery.capacity[upsHighPrecBatteryCapacity]'
    -
      uuid: d8c7c0451bfd40bf9feb085fb6c5fcf0
      name: Output
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'APC UPS Galaxy 3500 SNMP'
            key: 'output.current[upsHighPrecOutputCurrent]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'APC UPS Galaxy 3500 SNMP'
            key: 'output.load[upsHighPrecOutputLoad]'
    -
      uuid: ad9f9b407ae24dd8ba7d2a652bb21fe7
      name: Voltage
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'APC UPS Galaxy 3500 SNMP'
            key: 'input.voltage[upsHighPrecInputLineVoltage]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'APC UPS Galaxy 3500 SNMP'
            key: 'output.voltage[upsHighPrecOutputVoltage]'
