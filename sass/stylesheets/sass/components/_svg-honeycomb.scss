.svg-honeycomb {
	--color: #{$honeycomb-label-color};
	--fill: #{$honeycomb-cell-color};
	--stroke: #{$honeycomb-cell-color};
	--stroke-hover: #{darken($honeycomb-cell-color, 5%)};
	--no-data-color: #{$honeycomb-no-data-label-color};
	--no-data-fill: #{$honeycomb-no-data-cell-color};
	--no-data-stroke: #{$honeycomb-no-data-cell-color};

	feDropShadow {
		flood-opacity: var(--shadow-opacity, 0);

		@if $ui-transitions {
			transition: flood-opacity $ui-transition-duration;
		}
	}

	.svg-honeycomb-cell {
		--px: calc(var(--x) + var(--dx, 0px));
		--py: calc(var(--y) + var(--dy, 0px));

		cursor: pointer;

		path {
			fill: var(--fill);
			stroke: var(--stroke, var(--fill));
			stroke-width: var(--stroke-width, 0);
			transform: translate(var(--px), var(--py)) scale(var(--scale, 1));

			&.svg-honeycomb-backdrop {
				--fill: transparent;
				--stroke: transparent;

				transform: translate(var(--x), var(--y));
			}

			@if $ui-transitions {
				transition: transform $ui-transition-duration,
							fill $ui-transition-duration * 2;
			}
		}

		foreignObject {
			transform: translate(var(--px), var(--py));

			@if $ui-transitions {
				transition: transform $ui-transition-duration,
							x $ui-transition-duration,
							y $ui-transition-duration,
							width $ui-transition-duration,
							height $ui-transition-duration;
			}
		}

		.svg-honeycomb-content {
			display: grid;
			grid-auto-rows: minmax(max-content, auto);
			align-content: stretch;
			align-items: center;
			height: 100%;
			text-align: center;
			line-height: var(--line-height);
			color: var(--color);
		}

		.svg-honeycomb-label {
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;

			@if $ui-transitions {
				transition: max-height $ui-transition-duration,
				font-size $ui-transition-duration;
			}
		}

		&:hover {
			--stroke: var(--stroke-hover);
		}
	}

	.svg-honeycomb-cell-no-data,
	.svg-honeycomb-cell-other {
		--color: var(--no-data-color);
		--fill: var(--no-data-fill);
		--stroke: var(--no-data-stroke);
		--stroke-hover: var(--no-data-stroke);

		cursor: default;
	}

	.svg-honeycomb-cell-other-ellipsis {
		transform: translate(var(--px), var(--py));

		circle {
			fill: var(--color);
		}
	}
}
